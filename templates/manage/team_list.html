{% extends 'base.html' %}
{% load static %}

{% block title %}Команда проекта (Админ){% endblock %}

{% block extra_css %}
<link href="{% static 'css/team.css' %}" rel="stylesheet">
<style>
    .plus { display: block; background: none; border: none; cursor: pointer; margin: 0 auto; margin-top: 50px; }
    .edit-controls { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
</style>
{% endblock %}

{% block header_logo %}logo_blue.png{% endblock %}
{% block burger_icon %}menu_blue.png{% endblock %}

{% block nav_title %}
<section class="main-title">
    <h1>Команда проекта</h1>
    <p>Те люди, которые создают "Ту САМУЮ Россию"</p>
</section>
{% endblock %}

{% block content %}
<ul class="team-list">
    {% for member in members %}
    <li class="team-list-item" style="position: relative;">
         <img class="team-photo" src="{{ member.photo.url }}" alt="{{ member.last_name }}" style="width: 150px; height: 150px; object-fit: cover;">
         <h3>{{ member.last_name }} <br>{{ member.first_name }} {{ member.middle_name|default:'' }}</h3>
         <p class="post">{{ member.role }}</p>
         <p class="post-about">{{ member.position }}</p>
         
         {% if member.vk_link %}
         <a href="{{ member.vk_link }}" target="_blank" style="text-decoration: none;">
             <img src="{% static 'img/vk_blue.png' %}" alt="vk" style="width: auto; height: auto;">
         </a>
         {% endif %}
         
         {# Кнопки управления - в углу карточки #}
         <div class="edit-controls" style="position: absolute; top: 10px; right: 10px; display: flex; flex-direction: column; gap: 5px; z-index: 10;">
             <a href="{% url 'team_edit' member.pk %}" class="admin-icon-link">
                <img src="{% static 'img/edit.png' %}" class="admin-icon">
             </a>
             <a href="{% url 'team_delete' member.pk %}" onclick="return confirm('Удалить участника?');" class="admin-icon-link">
                <img src="{% static 'img/close.png' %}" class="admin-icon" style="filter: invert(1) !important;">
             </a>
         </div>
    </li>
    {% endfor %}
</ul>

{# Кнопка добавления #}
<div style="display: flex; justify-content: center; margin-top: 50px;">
    <a href="{% url 'team_add' %}" class="plus">
        <img src="{% static 'img/plus.png' %}" width="100" height="100" alt="Добавить участника">
    </a>
</div>
{% endblock %}
